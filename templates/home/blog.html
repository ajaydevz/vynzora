{% extends "home/base.html" %}
{% load static %}
{% block content %}

<!-- tp-service-hero-area-start -->
<div class="tp-service-hero-area tp-service-hero-spacing p-relative z-index-1">
   <span class="tp-service-hero-shape-2 p-absolute">
      <svg class="line-2" viewBox="0 0 402 339" fill="none" xmlns="http://www.w3.org/2000/svg">
         <circle cx="413.5" cy="413.5" r="353.5" transform="matrix(-1 0 0 1 820 0)" stroke="#F0F0F0" stroke-width="120" />
      </svg>
   </span>

   <div class="container">
      <div class="row pb-45">
         <div class="col-lg-7">
            <div class="tp-service-hero-left p-relative z-index-1 mb-40">
               <h2 class="fs-70 fs-lg-60 fs-xs-40">Fresh Perspectives.&<br> Trending Ideas</h2>

               <div class="tp-service-details-icon">
                  <img class="tp-live-anim-spin" src="{% static 'assets/img/breadcrumb/icon.webp' %}" alt="Breadcrumb Icon">
               </div>

               <span class="tp-service-hero-shape tpswing d-none d-sm-inline-block">
                  <svg width="52" height="94" viewBox="0 0 52 94" fill="none" xmlns="http://www.w3.org/2000/svg">
                     <path d="M1 16.1098C5.58433 24.0984 22.6118 44.5692 38.3295 38.0785C46.3521 34.5835 58.2264 23.6551 45.206 5.12554C40.2943 -1.86444 30.6673 -0.666183 25.559 14.1127C22.6118 22.6393 15.2441 43.0714 22.612 61.0456C26.5006 70.5321 38.1332 85.2111 49.1356 90.0043M49.1356 90.0043C44.0601 87.3414 32.8285 84.2126 28.5061 93M49.1356 90.0043C45.8611 88.1736 40.0979 80.8174 43.2414 66.0385M10.2322 38.0785C9.38015 41.6962 8.2675 54.4237 15.144 64.4094"
                        stroke="#030303" stroke-width="1.5" />
                  </svg>
               </span>
            </div>
         </div>

         <div class="col-lg-5">
            <div class="tp-service-hero-right mt-135">
               <p class="fs-20 lh-140-per">
                  We don't just designâ€”we craft immersive<br> digital experiences that connect brands with<br> their audiences in meaningful ways. From<br>
                  branding and UI/UX design to web development<br> and digital marketing, we create solutions that<br>
                  blend creativity, strategy, and technology.
               </p>
            </div>
         </div>
      </div>
   </div>

   <div class="tp-breadcrumb-wrap">
      <div class="container">
         <div class="row">
            <div class="col-12">
               <div class="tp-breadcrumb-list">
                  <ul>
                     <li><a href="/">Home</a></li>
                     <li><span></span></li>
                     <li>Blogs & Insight</li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
<!-- tp-service-hero-area-end -->


<!-- tp-blog-banner-area-start -->
<div class="p-blog-banne-area tp-about-me-banner scale-up-img p-relative" style="overflow: hidden; height: 500px;">
   <div style="display: flex; height: 100%;">

      <!-- Image Carousel -->
      <div style="flex: 1; position: relative; overflow: hidden;">
         <div id="blogCarousel" style="display: flex; height: 100%; transition: transform 0.5s ease-in-out;">
            {% for blog in blogs %}
            <div style="min-width: 100%; height: 100%; flex-shrink: 0;">
               <img src="{{ blog.image.url }}" data-speed="0.4" class="img-cover scale-up"
                    alt="{{ blog.name }}" 
                    style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            {% empty %}
            <div style="min-width: 100%; height: 100%; flex-shrink: 0;">
               <img src="{% static 'assets/img/service/ai/four.jpg' %}"
                    data-speed="0.4" class="img-cover scale-up"
                    alt="Default" 
                    style="width: 100%; height: 100%; object-fit: cover;">
            </div>
            {% endfor %}
         </div>
      </div>

      <!-- Blog Info -->
      {% comment %} <div style="width: 35%; background: rgba(0,0,0,0.85); padding: 40px; display: flex; flex-direction: column; justify-content: center; color: white; overflow-y: auto;">

         {% if blogs %}
         <div id="blogInfo">
            {% with blog=blogs|first %}
            <div class="tp-blog-meta mb-20">
               <span style="color:#C4EE18;">Special Edition</span>
               <span class="borders" style="margin: 0 10px; width:20px; height:1px; background:#666;"></span>
               <span style="color:#aaa;">{{ blog.created_date|date:"M d, Y" }}</span>
            </div>

            <h3 style="font-size:28px; font-weight:700; margin-bottom:20px;">{{ blog.name }}</h3>

            <p style="font-size:16px; color:#ccc;">
               {{ blog.description|truncatewords:30 }}
            </p>

            <a href="{% url 'blog_details' slug=blog.slug %}"
               style="padding:12px 30px; background:#C4EE18; color:#030303; font-weight:600; border-radius:6px;">
               Read More
            </a>
            {% endwith %}
         </div>
         {% endif %}

      </div> {% endcomment %}

   </div>

   <!-- Carousel Dots -->
   {% comment %} {% if blogs %}
   <div style="position:absolute; bottom:20px; left:50%; transform:translateX(-50%); display:flex; gap:10px;">
      {% for blog in blogs %}
      <button class="carousel-dot"
              data-index="{{ forloop.counter0 }}"
              style="width:12px; height:12px; border-radius:50%; background:{% if forloop.first %}#C4EE18{% else %}rgba(255,255,255,0.4){% endif %}; border:none;">
      </button>
      {% endfor %}
   </div>
   {% endif %} {% endcomment %}
</div>
<!-- tp-blog-banner-area-end -->


<!-- tp-blog-area-start -->
<div class="tp-blog-area pt-140 pb-140">
   <div class="container">

      <div class="row">
         <div class="col-lg-4">
            <div class="tp-blog-subtitle mb-30">
               <span class="tp-section-subtitle fw-500 fs-16 mb-35">
                  <span class="borders d-inline-block"></span>Latest Journal
               </span>
            </div>
         </div>

         <div class="col-lg-8">
            <div class="tp-blog-title-wrap ml-20 mb-45">
               <h2 class="tp-section-title fs-70 fs-lg-50 fs-xs-40 fw-700 text-uppercase mb-50">Updated Blog</h2>

               <div class="d-flex align-items-start">
                  <span class="mr-40 tp-service-shape">
                     <svg width="45" height="45" viewBox="0 0 45 45" fill="none">
                        <mask id="mask0" maskUnits="userSpaceOnUse" x="0" y="0" width="45" height="45">
                           <rect width="45" height="45" fill="#D9D9D9" />
                        </mask>
                        <g mask="url(#mask0)">
                           <rect y="13" width="30" height="30" fill="#030303" />
                           <rect x="15" y="1" width="30" height="30" fill="#0f0d32ff" />
                        </g>
                     </svg>
                  </span>

                  <p class="fs-18 tp-text-grey-1 lh-28">
                     Strategists dedicated to creating stunning, functional websites aligned with your goals.
                  </p>
               </div>
            </div>
         </div>
      </div>

      <div class="row">
         {% for blog in blogs %}
         <div class="col-lg-4 col-md-6">
            <div class="tp-blog-item mb-60">

               <a href="{% url 'blog_details' slug=blog.slug %}" class="tp-blog-thumb d-block mb-30 p-relative">
                  <img src="{{ blog.image.url }}" class="w-100" alt="{{ blog.name }}"
                       style="height:300px; object-fit:cover; border-radius:12px;">
               </a>

               <div class="tp-blog-content text-center">
                  <div class="tp-blog-meta mb-15">
                     {% comment %} <span>Special Edition</span> {% endcomment %}
                     <span class="borders"></span>
                     <span>{{ blog.created_date|date }}</span>
                  </div>

                  <h3 class="fs-25">
                     <a href="{% url 'blog_details' slug=blog.slug %}" class="underline-black">
                        {{ blog.name }}
                     </a>
                  </h3>
               </div>

            </div>
         </div>
         {% endfor %}
      </div>


      <!-- PAGINATION -->
    {% if blogs.paginator.count > 6 %}
<div class="pagination-wrapper d-flex justify-content-center align-items-center mt-4">

    {% if blogs.has_previous %}
    <a href="?page={{ blogs.previous_page_number }}" class="pagination-btn prev-btn">
        <svg width="22" height="10" viewBox="0 0 25 10">
            <path d="M6.32 9.91L0.28 5.63..." fill="currentColor"/>
        </svg>
        Previous
    </a>
    {% endif %}

    <ul class="pagination-numbers list-unstyled d-flex mx-3">
        {% for num in blogs.paginator.page_range %}
        <li>
            <a href="?page={{ num }}" class="pagination-number {% if blogs.number == num %}active{% endif %}">
                {{ num }}
            </a>
        </li>
        {% endfor %}
    </ul>

    {% if blogs.has_next %}
    <a href="?page={{ blogs.next_page_number }}" class="pagination-btn next-btn">
        Next
        <svg width="22" height="10" viewBox="0 0 25 10">
            <path d="M18.67 9.91L24.72..." fill="currentColor"/>
        </svg>
    </a>
    {% endif %}

</div>
{% endif %}


   </div>
</div>
<!-- tp-blog-area-end -->

<style>
   /* Wrapper */
.pagination-wrapper a {
    text-decoration: none;
    font-size: 14px;
    font-weight: 600;
    color: #000;
}

/* Prev & Next Buttons */
.pagination-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    background: #fff;
    padding: 10px 16px;
    border-radius: 6px;
    border: 1px solid #000;
    transition: all .25s ease;
}

.pagination-btn:hover {
    background: #000;
    color: #fff;
}

/* Page Numbers */
.pagination-numbers li {
    margin: 0 6px;
}

.pagination-number {
    display: block;
    padding: 8px 14px;
    border-radius: 6px;
    background: #fff;
    color: #000;
    border: 1px solid #000;
    transition: all .25s ease;
}

.pagination-number:hover {
    background: #000;
    color: #fff;
}

/* Current Active Page */
.pagination-number.active {
    background: #000;
    color: #fff;
    border: 1px solid #000;
}

</style>
<script>
document.addEventListener('DOMContentLoaded', function () {
   const carousel = document.getElementById('blogCarousel');
   const dots = document.querySelectorAll('.carousel-dot');
   let currentIndex = 0;
   let autoplay;

   function updateCarousel(index) {
      const offset = -index * 100;
      carousel.style.transform = `translateX(${offset}%)`;

      dots.forEach((dot, i) => {
         dot.style.background = i === index ? "#C4EE18" : "rgba(255,255,255,0.4)";
      });

      currentIndex = index;
   }

   function nextSlide() {
      updateCarousel((currentIndex + 1) % carousel.children.length);
   }

   function startAutoplay() {
      if (carousel.children.length > 1) {
         autoplay = setInterval(nextSlide, 5000);
      }
   }

   function resetAutoplay() {
      clearInterval(autoplay);
      startAutoplay();
   }

   dots.forEach((dot, index) => {
      dot.addEventListener("click", () => {
         updateCarousel(index);
         resetAutoplay();
      });
   });

   startAutoplay();
});
</script>

{% endblock %}
